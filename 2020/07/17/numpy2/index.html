<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">Python学习笔记（二）：Numpy库（下） | 放不下的只是青春懵懂的执念</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "桜の花の落Sakagami Tomoyo";
  mashiro_option.author_name = "Sakagami Tomoyo";
  mashiro_option.site_url = "https://sakagami-tomoyo.github.io/";
  mashiro_option.v_appId = "2X4OECm6DbSrazcQdegg5jCH-gzGzoHsz";
  mashiro_option.v_appKey = "P3Nn2aUDaqKVudVyg93BXGvy";
  mashiro_option.mathjax = "0";
  mashiro_option.copyright_enable = "false" ;
  mashiro_option.copyright_minCharNumber = parseInt("100") ;
  mashiro_option.copyright_description = "本文章著作权归作者所有，任何形式的转载都请注明出处。" ;
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/1.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/2.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/3.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/4.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/5.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/6.jpg,https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.6/image/7.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#e677c4}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#e677c4}::-webkit-scrollbar-thumb{background:#e677c4}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#e677c4}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#e677c4}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://sakagami-tomoyo.github.io/">
          <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/head.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>恰逢其会，猝不及防。花开两朵，天各一方。谢谢你照亮过我曾经暗淡的星空！</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://github.com/Sakagami-Tomoyo" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/github.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://space.bilibili.com/405329079" target="_blank" class="social-github" title="bilibili">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/bilibili.png">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/qq.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/qqid.PNG">
                  </div>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/wechat.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/wechatid.PNG">
                  </div>
                </li>
              
            
              
                <li>
                  <a href="https://blog.csdn.net/csdnwrj" target="_blank" class="social-github" title="CSDN">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/csdn.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://music.163.com/#/user/home?id=1484376455" target="_blank" class="social-github" title="wangyiyun">
                    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/wangyiyun.png">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">桜の花の落</span>
            <span class="shironeko">Sakagami Tomoyo</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    记录
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/资源/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/随笔/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随笔
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/转载/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    爱好
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/悦读/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          番剧
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/图集/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          图集
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/tags/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-tag" aria-hidden="true"></i>
                    标签
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/categories/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-bookmark" aria-hidden="true"></i>
                    分类
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友链
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    赞赏
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我
                        </a>
                      </li>
                    
                      <li>
                        <a href="/theme-sakura/">
                          <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                          主题
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/0.png);" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/0.png">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      Python学习笔记（二）：Numpy库（下）</h1>
      <p class="entry-census">
        <span>
          <a href="/archives">
            <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.5/image/head.jpg">
          </a>
        </span>
        <span>
          <a href="/archives">Sakagami Tomoyo</a>
        </span>
        <span class="bull">
        ·</span>
        2020-7-17<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
      		  <!-- 开始添加字数统计-->
            
              <div style="margin-top:10px;">
    <span class="post-time">
      <span class="post-meta-item-icon">
        <i class="fa fa-keyboard-o"></i>
        <span class="post-meta-item-text">  字数统计: </span>
        <!-- 安装插件npm install hexo-wordcount --save -->
        <span class="post-count">7k字</span>
      </span>
    </span>

    <span class="post-time">
      &nbsp; | &nbsp;
      <span class="post-meta-item-icon">
        <i class="fa fa-hourglass-half"></i>
        <span class="post-meta-item-text">  阅读时长: </span>
        <span class="post-count">30分</span>
      </span>
    </span>
</div>
            
            <!-- 添加完成 -->
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <p><a href="https://sakagami-tomoyo.github.io/2020/07/15/numpy/" target="_blank" rel="noopener">Python学习笔记（二）：Numpy库（上）</a></p>
<h1 id="一、数组的变形"><a href="#一、数组的变形" class="headerlink" title="一、数组的变形"></a>一、数组的变形</h1><h2 id="1、修改数组的形状"><a href="#1、修改数组的形状" class="headerlink" title="1、修改数组的形状"></a>1、修改数组的形状</h2><h3 id="（1）、重塑"><a href="#（1）、重塑" class="headerlink" title="（1）、重塑"></a>（1）、重塑</h3><p>重塑顾名思义就是将重新塑造数组的形状，即改变数组的维度。<strong><em>np.reshape</em></strong>函数和<strong><em>np.resize</em></strong>两个函数都可以实现这一点。</p>
<hr>
<p>np.reshape在不改变数据的条件下修改形状，以下是它的定义：</p>
<ul>
<li>numpy.reshape(arr, newshape, order=’C’)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">要修改形状的数组</td>
</tr>
<tr>
<td style="text-align:center">newshape</td>
<td style="text-align:center">整数或者整数数组，新的形状应当兼容原有形状</td>
</tr>
<tr>
<td style="text-align:center">order</td>
<td style="text-align:center">‘C’ – 按行主序，’F’ – 按列主序，’A’ – 原顺序，’k’ – 元素在内存中的出现顺序。</td>
</tr>
</tbody>
</table>
<p>例如下面将一维数组变为二维数组：</p>
<pre><code>import numpy as np
x=np.arange(16)
print(x)
y = x.reshape(4,4)
print(y)
</code></pre><pre><code>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15]

[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [12 13 14 15]]
</code></pre><p>当数组元素很多的时候或者该数组是高维数组时，当我们确定其他维的元素个数但是不想计算最后一个维度元素的个数，我们可以用<strong>-1</strong>来来取代。例如我把x重塑为(2,6)的形状，可以写作(2,-1)：</p>
<pre><code>y = x.reshape(2,-1)
print(y)
</code></pre><pre><code>[[ 0  1  2  3  4  5  6  7]
 [ 8  9 10 11 12 13 14 15]]
</code></pre><p>针对于第三个参数的含义，我们先来看个例子：</p>
<pre><code>x=np.arange(12)
print(x)
y1 = x.reshape((4,3))
print(&quot;y1 = \n{}&quot;.format(y1))
y2 = x.reshape((4,3),order = &#39;F&#39;)
print(&quot;y2 = \n{}&quot;.format(y2))
</code></pre><pre><code>[ 0  1  2  3  4  5  6  7  8  9 10 11]
y1 =
[[ 0  1  2]
 [ 3  4  5]
 [ 6  7  8]
 [ 9 10 11]]
y2 =
[[ 0  4  8]
 [ 1  5  9]
 [ 2  6 10]
 [ 3  7 11]]
</code></pre><p>通过上面我们可以发现设定行为主序和列为主序两种情况得到的数组是不一样的。<br>行主序指每行的元素在内存块中彼此相邻，而列主序指每列的元素在内存块中彼此相邻。在众多计算机语言中，</p>
<ul>
<li>默认行主序的有 C 语言(下图 order=‘C’ 等价于行主序)</li>
<li>默认列主序的有 Fortran 语言(下图 order=‘F’ 等价于列主序)<br><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/1.png" alt="在这里插入图片描述"></li>
</ul>
<hr>
<p>np.resize函数会返回指定形状的新数组，其定义如下：</p>
<ul>
<li>numpy.resize(arr, shape)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">要修改大小的数组</td>
</tr>
<tr>
<td style="text-align:center">shape</td>
<td style="text-align:center">返回数组的新形状</td>
</tr>
</tbody>
</table>
<hr>
<p>np.reshape函数与np.resize函数最大的区别就在于np.resize函数没有复制原数组（即完成操作后原数组改变），np.reshape函数复制了原数组（即完成操作后原数组不发生改变）。下面用代码验证一下：</p>
<pre><code>import numpy as np
x=np.arange(16)
print(x)
y = x.reshape((4,4))
print(x)
z = x.resize((4,4))
print(x)
</code></pre><pre><code>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15]

[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15]

[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [12 13 14 15]]
</code></pre><hr>
<h3 id="（2）、打平"><a href="#（2）、打平" class="headerlink" title="（2）、打平"></a>（2）、打平</h3><p>打平数组顾名思义就是将多维数组变成一维数组。 <strong><em>np.ravel</em></strong>函数或<strong><em>np.flatten</em></strong>方法可以实现这一点。下面是这两个函数的定义：</p>
<ul>
<li>ndarray.flatten(order=’C’)</li>
<li>numpy.ravel(a, order=’C’)</li>
</ul>
<p>例如：</p>
<pre><code>a = np.arange(8).reshape(2,4)
print(a)
print(a.flatten())
print(np.ravel(a))
</code></pre><pre><code>[[0 1 2 3]
 [4 5 6 7]]

[0 1 2 3 4 5 6 7]

[0 1 2 3 4 5 6 7]
</code></pre><p>这二者的区别是：</p>
<ul>
<li><strong>np.flatten</strong>方法返回的是原数组的一个<strong>复制</strong>，修改数组元素不会改变原数组</li>
<li><strong>np.ravel</strong>函数返回的是原数组的一个<strong>视图</strong>，修改数组元素会改变原数组</li>
</ul>
<p>就拿上面的例子来说：</p>
<pre><code>b = a.flatten()
b[0]=10
print(a)

c = np.ravel(a)
c[0]=10
print(a)
</code></pre><pre><code>[[0 1 2 3]
 [4 5 6 7]]

[[10  1  2  3]
 [ 4  5  6  7]]
</code></pre><p>从结果我们可以看到当我们修改b数组的第一个元素值，a数组第一个元素值不改变。但是修改c数组第一个元素值a数组第一个元素值发生了改变。</p>
<h2 id="2、翻转数组"><a href="#2、翻转数组" class="headerlink" title="2、翻转数组"></a>2、翻转数组</h2><h3 id="（1）转置"><a href="#（1）转置" class="headerlink" title="（1）转置"></a>（1）转置</h3><p>在线性代数里面有矩阵的转置，在ndarray数组中也有相关的转置操作。其定义是：<strong><em>ndarray.T</em></strong><br>例如：</p>
<pre><code>a = np.arange(8).reshape(2,4)
print(a)
print(a.T)
</code></pre><pre><code>[[0 1 2 3]
 [4 5 6 7]]

[[0 4]
 [1 5]
 [2 6]
 [3 7]]
</code></pre><h3 id="（2）对换数组的维度"><a href="#（2）对换数组的维度" class="headerlink" title="（2）对换数组的维度"></a>（2）对换数组的维度</h3><p>如果是多维数组中我想交换任意两个维度的顺序，或者将多个维度的顺序全部打乱，那么简单的转置并不能完成这一操作，这时候就要使用<strong><em>np.transpose</em></strong>方法，其定义如下：</p>
<ul>
<li>numpy.ndarray.transpose(axes)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">axes</td>
<td style="text-align:center">整数列表，列表中的数字顺序对应维度顺序</td>
</tr>
</tbody>
</table>
<p>例如：现在有一个维度为(2,3,5)的数组，将数组的维度顺序变为2,3,1，即原来的第一维度变为第三维度，原来的第二维度变为第一维度，原来的第三维度变为第二维度：</p>
<pre><code>a = np.arange(30).reshape(2,3,5)
print(&quot;原数组为：\n{}&quot;.format(a))
print(&quot;改变后的数组为：\n{}&quot;.format(a.transpose(1,2,0)))
</code></pre><pre><code>原数组为：
[[[ 0  1  2  3  4]
  [ 5  6  7  8  9]
  [10 11 12 13 14]]

 [[15 16 17 18 19]
  [20 21 22 23 24]
  [25 26 27 28 29]]]
改变后的数组为：
[[[ 0 15]
  [ 1 16]
  [ 2 17]
  [ 3 18]
  [ 4 19]]

 [[ 5 20]
  [ 6 21]
  [ 7 22]
  [ 8 23]
  [ 9 24]]

 [[10 25]
  [11 26]
  [12 27]
  [13 28]
  [14 29]]]
</code></pre><p>由于维度的改变，元素的坐标也发生改变。如果元素原来的坐标是(i,j,k)，那么现在的坐标为(j,k,i)。</p>
<h3 id="（3）对换数组的两个维度"><a href="#（3）对换数组的两个维度" class="headerlink" title="（3）对换数组的两个维度"></a>（3）对换数组的两个维度</h3><p>如果我仅仅想对换数组的两个维度的顺序，那么就可以使用np.wapaxes函数，就不必设置所有维度的顺序了，其定义如下：</p>
<ul>
<li>numpy.swapaxes(arr, axis1, axis2)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">输入的数组</td>
</tr>
<tr>
<td style="text-align:center">axis1</td>
<td style="text-align:center">对应第一个轴的整数</td>
</tr>
<tr>
<td style="text-align:center">axis2</td>
<td style="text-align:center">对应第二个轴的整数</td>
</tr>
</tbody>
</table>
<p>例如：我想交换维度为(2,3,5)的数组的第一和第二维度：</p>
<pre><code>a = np.arange(30).reshape(2,3,5)
print(&quot;原数组为：\n{}&quot;.format(a))
print(&quot;改变后的数组为：\n{}&quot;.format(np.swapaxes(a,0,1)))
</code></pre><pre><code>原数组为：
[[[ 0  1  2  3  4]
  [ 5  6  7  8  9]
  [10 11 12 13 14]]

 [[15 16 17 18 19]
  [20 21 22 23 24]
  [25 26 27 28 29]]]
改变后的数组为：
[[[ 0  1  2  3  4]
  [15 16 17 18 19]]

 [[ 5  6  7  8  9]
  [20 21 22 23 24]]

 [[10 11 12 13 14]
  [25 26 27 28 29]]]
</code></pre><p>如果原来的元素坐标为(i,j,k)，那么变换后的坐标为(j,i,k)。</p>
<h2 id="3、连接数组"><a href="#3、连接数组" class="headerlink" title="3、连接数组"></a>3、连接数组</h2><h3 id="（1）np-concatenate函数"><a href="#（1）np-concatenate函数" class="headerlink" title="（1）np.concatenate函数"></a>（1）np.concatenate函数</h3><p>np.concatenate函数可以说是通用的连接函数，因为它可以沿任意的现有轴进行连接数组。下面是其定义：</p>
<ul>
<li>numpy.concatenate((a1, a2, …), axis)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a1, a2, …</td>
<td style="text-align:center">相同类型的数组</td>
</tr>
<tr>
<td style="text-align:center">axis</td>
<td style="text-align:center">沿着它连接数组的轴，默认为 0</td>
</tr>
</tbody>
</table>
<p>例如下面分别对两个数组进行竖直方向（沿轴0）与水平方向（沿轴1）合并：</p>
<pre><code>a = np.array([[1,2],[3,4]])
b = np.array([[5,6],[7,8]]) 
print (&#39;a = \n{}&#39;.format(a))
print (&#39;b = \n{}&#39;.format(b))

print (&#39;沿轴 0 连接两个数组：&#39;)
print (np.concatenate((a,b)))
print (&#39;沿轴 1 连接两个数组：&#39;)
print (np.concatenate((a,b),axis = 1))
</code></pre><pre><code>a = 
[[1 2]
 [3 4]]
b =
[[5 6]
 [7 8]]
沿轴 0 连接两个数组：
[[1 2]
 [3 4]
 [5 6]
 [7 8]]
沿轴 1 连接两个数组：
[[1 2 5 6]
 [3 4 7 8]]
</code></pre><h3 id="（2）vstack-hstack-dstack函数"><a href="#（2）vstack-hstack-dstack函数" class="headerlink" title="（2）vstack, hstack, dstack函数"></a>（2）vstack, hstack, dstack函数</h3><p>通用的东西虽然好，但是效率不高，NumPy 里还有专门合并的函数：</p>
<ul>
<li>np.vstack：v 代表 vertical，竖直合并，等价于 concatenate(axis=0)</li>
<li>np.hstack：h 代表 horizontal，水平合并，等价于 concatenate(axis=1)</li>
<li>np.dstack：d 代表 depth-wise，按深度合并，可以理解为增加维度</li>
</ul>
<p>下面是这三个函数的图示：<br><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/2.png" alt="在这里插入图片描述"><br>下面用代码验证一下：</p>
<pre><code>print( np.vstack((a, b)) )
print( np.hstack((a, b)) )
print( np.dstack((a, b)) )
</code></pre><pre><code>[[1 2]
 [3 4]
 [5 6]
 [7 8]]
 --------------
[[1 2 5 6]
 [3 4 7 8]]
 --------------
[[[1 5]
  [2 6]]

 [[3 7]
  [4 8]]]
</code></pre><h3 id="（3）r-c-对象"><a href="#（3）r-c-对象" class="headerlink" title="（3）r_, c_对象"></a>（3）r_, c_对象</h3><p>还有一种更简单的在竖直和水平方向合并的函数方法，使用np.r_和 np.c_对象。<br>它们可以像vstack, hstack函数一样做简单的合并：</p>
<pre><code>a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
c = np.c_[a,b]

print(np.r_[a,b])
print(c)
print(np.c_[c,a])
</code></pre><pre><code>[1 2 3 4 5 6]
----------------
[[1 4]
 [2 5]
 [3 6]]
----------------
[[1 4 1]
 [2 5 2]
 [3 6 3]]
</code></pre><p><strong>注意：np.r_和 np.c_的参数用[]括起来，不是()。</strong>因为np.r_和 np.c_本质上是将多个序列或数组合并成一个数组并返回，它们实际上是数组对象并不是函数。</p>
<p>如果np.r_和 np.c_仅有这个功能那么就完全和 vstack和hstack一样了就没有存在的必要了，所以下面介绍它们的特别用法：</p>
<hr>
<p> 1.参数可以是切片。</p>
<pre><code>print( np.r_[-2:2:1, [0]*3, 5, 6] )
</code></pre><pre><code>[-2 -1 0 1 0 0 0 5 6]
</code></pre><hr>
<p> 2.第一个参数可以是控制参数，如果它用 ‘r’ 或 ‘c’ 字符可生成线性代数最常用的矩阵 matrix (和二维 numpy array 稍微有些不同，在后面会详细介绍)</p>
<pre><code>a = np.r_[&#39;r&#39;, [1,2,3], [4,5,6]]
print(a,type(a))
</code></pre><pre><code>[[1 2 3 4 5 6]] &lt;class &#39;numpy.matrix&#39;&gt;
</code></pre><hr>
<p>3.第一个参数可以是控制参数，如果它写成 ‘a,b,c’ 的形式，其中</p>
<ul>
<li>a：代表轴，按「轴 a」来合并</li>
<li>b：合并后数组维度至少是 b</li>
<li>c：在第 c 维上做维度提升</li>
</ul>
<p>这么说可能有些抽象，那么用代码看一看具体的例子：</p>
<pre><code>print( np.r_[&#39;0,2,0&#39;, [1,2,3], [4,5,6]] )
print( np.r_[&#39;0,2,1&#39;, [1,2,3], [4,5,6]] )
print( np.r_[&#39;1,2,0&#39;, [1,2,3], [4,5,6]] )
print( np.r_[&#39;1,2,1&#39;, [1,2,3], [4,5,6]] )
print( np.r_[&#39;1,3,1&#39;, [1,2,3], [4,5,6]] )
</code></pre><pre><code>[[1] 
 [2] 
 [3] 
 [4] 
 [5] 
 [6]]
-----------------
[[1 2 3]
 [4 5 6]]
-----------------
[[1 4]
 [2 5]
 [3 6]]
------------------
[[1 2 3 4 5 6]]
-------------------
[[[1]
  [2]
  [3]
  [4]
  [5]
  [6]]]
</code></pre><hr>
<p>首先我们来看b参数的含义，通过上面的例子显而易见b参数决定了数组的维数，b = 2，那么最后得到的数组为二维数组。b = 3，那么最后得到的数组为三维数组。</p>
<p>然后我们再来看c参数，它的定义为：在第 c 维上做维度提升。如果b = 2,因为两个数组 [1,2,3], [4,5,6] 都是一维，所以：</p>
<ul>
<li>c = 0 代表在轴 0（列）上升一维，因此得到 [[1],[2],[3]] 和 [[4],[5],[6]] </li>
<li>c = 1 代表在轴 1（行）上升一维，因此得到 [[1,2,3]] 和 [[4,5,6]]</li>
</ul>
<p>如果b = 3：</p>
<ul>
<li>c = 0 代表在轴 0 上升两维，因此得到 [[[1]],[[2]],[[3]]] 和 [[[4]],[[5]],[[6]]]</li>
<li>c = 1 代表在轴 1（列）上升两维，因此得到 [[[1],[2],[3]]] 和 [[[4],[5],[6]]] </li>
<li>c = 2 代表在轴 2（行）上升两维，因此得到 [[[1,2,3]]] 和 [[[4,5,6]]]</li>
</ul>
<p>最后我们来看参数a，以b = 2为例：</p>
<ul>
<li>a = 0, 沿着轴 0（列）合并</li>
<li>a = 1, 沿着轴 1（行）合并</li>
</ul>
<p>下面是 b = 2 时的过程图：<br><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/3.webp" alt="在这里插入图片描述"></p>
<hr>
<h2 id="4、分割数组"><a href="#4、分割数组" class="headerlink" title="4、分割数组"></a>4、分割数组</h2><h3 id="（1）np-split函数"><a href="#（1）np-split函数" class="headerlink" title="（1）np.split函数"></a>（1）np.split函数</h3><p>和 concatenate() 函数一样，我们可以在 split() 函数里通过设定轴，来对数组沿着竖直方向分裂 (轴 0) 和沿着水平方向分裂 (轴 1)。下面是它的定义：</p>
<ul>
<li>numpy.split(ary, indices_or_sections, axis)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ary</td>
<td style="text-align:center">被分割的数组</td>
</tr>
<tr>
<td style="text-align:center">indices_or_sections</td>
<td style="text-align:center">如果是一个整数，就用该数平均切分，如果是一个数组，为沿轴切分的位置</td>
</tr>
<tr>
<td style="text-align:center">axis</td>
<td style="text-align:center">沿着哪个维度进行切向，默认为0，横向切分。为1时，纵向切分</td>
</tr>
</tbody>
</table>
<pre><code>a = np.arange(9)

print (&#39;第一个数组：&#39;)
print (a)

print (&#39;将数组分为三个大小相等的子数组：&#39;)
b = np.split(a,3)
print (b)

print (&#39;将数组在一维数组中表明的位置分割：&#39;)
b = np.split(a,[4,7])
print (b)
</code></pre><pre><code>第一个数组：
[0 1 2 3 4 5 6 7 8]
将数组分为三个大小相等的子数组：
[array([0, 1, 2]), array([3, 4, 5]), array([6, 7, 8])]
将数组在一维数组中表明的位置分割：
[array([0, 1, 2, 3]), array([4, 5, 6]), array([7, 8])]
</code></pre><p>其中第三步操作中的第二个参数 [4, 7] 相当于是个切片操作，将数组分成三部分：</p>
<ul>
<li>第一部分 - 0:3 </li>
<li>第二部分 - 4:6 </li>
<li>第二部分 - 6:8 </li>
</ul>
<h3 id="（2）np-hsplit-np-vsplit函数"><a href="#（2）np-hsplit-np-vsplit函数" class="headerlink" title="（2）np.hsplit, np.vsplit函数"></a>（2）np.hsplit, np.vsplit函数</h3><p>vsplit() 和 split(axis=0) 等价，hsplit() 和 split(axis=1) 等价。下面是图示：<br><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/4.webp" alt="在这里插入图片描述"><br>下面用代码展示一下np.hsplit函数：</p>
<pre><code>a = np.arange(25).reshape((5,5))
first, second, third = np.hsplit(a,[1,3])
print( &#39;第一个数组是：\n{}&#39;.format(first) )
print( &#39;第二个数组是：\n{}&#39;.format(second) )
print( &#39;第三个数组是：\n{}&#39;.format(third) )
</code></pre><pre><code>第一个数组是：
[[ 0]
 [ 5]
 [15]
 [20]]
第二个数组是：
[[ 1  2]
 [ 6  7]
 [11 12]
 [16 17]
 [21 22]]
第三个数组是：
[[ 3  4]
 [ 8  9]
 [13 14]
 [18 19]
 [23 24]]
</code></pre><h2 id="5、添加和删除数组元素"><a href="#5、添加和删除数组元素" class="headerlink" title="5、添加和删除数组元素"></a>5、添加和删除数组元素</h2><h3 id="（1）添加"><a href="#（1）添加" class="headerlink" title="（1）添加"></a>（1）添加</h3><p>添加数组元素主要有两个函数：np.append和np.insert函数。他们的区别是：</p>
<ul>
<li>np.append 函数在数组的末尾插入元素</li>
<li>np.insert 函数在某个特定位置之前插入元素</li>
</ul>
<hr>
<p>np.append 函数在数组的<strong>末尾</strong>添加值。 追加操作会分配整个数组，并把原来的数组复制到新数组中。此外，输入数组的维度必须匹配否则将生成ValueError。下面是函数定义：</p>
<ul>
<li>numpy.append(arr, values, axis=None)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">输入数组</td>
</tr>
<tr>
<td style="text-align:center">values</td>
<td style="text-align:center">要向arr添加的值，需要和arr形状相同（除了要添加的轴）</td>
</tr>
<tr>
<td style="text-align:center">axis</td>
<td style="text-align:center">默认为 None。当axis无定义时，是横向加成，返回总是为一维数组！当axis有定义的时候，分别为0和1的时候。当axis有定义的时候，分别为0和1的时候（列数要相同）。当axis为1时，数组是加在右边（行数要相同）。</td>
</tr>
</tbody>
</table>
<p>例如：</p>
<pre><code>a = np.array([[1,2,3],[4,5,6]])
print (&#39;第一个数组：&#39;)
print (a)
print (&#39;向数组添加元素：&#39;)
print (np.append(a, [7,8,9]))
print (&#39;沿轴 0 添加元素：&#39;)
print (np.append(a, [[7,8,9]],axis = 0))
print (&#39;沿轴 1 添加元素：&#39;)
print (np.append(a, [[5,5,5],[7,8,9]],axis = 1))
</code></pre><pre><code>第一个数组：
[[1 2 3]
 [4 5 6]]
向数组添加元素：
[1 2 3 4 5 6 7 8 9]
沿轴 0 添加元素：
[[1 2 3]
 [4 5 6]
 [7 8 9]]
沿轴 1 添加元素：
[[1 2 3 5 5 5]
 [4 5 6 7 8 9]]
</code></pre><hr>
<p>numpy.insert 函数在<strong>给定索引之前</strong>，沿给定轴在输入数组中插入值。如果值的类型转换为要插入，则它会<strong>广播</strong>（广播在下面数组的计算会详细说明）输入的值数组来匹配原数组进行插入。此外，如果未提供轴，则输入数组会被展开。下面是函数的定义：</p>
<ul>
<li>numpy.insert(arr, obj, values, axis)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">输入数组</td>
</tr>
<tr>
<td style="text-align:center">obj</td>
<td style="text-align:center">在其之前插入值的索引</td>
</tr>
<tr>
<td style="text-align:center">values</td>
<td style="text-align:center">要插入的值</td>
</tr>
<tr>
<td style="text-align:center">axis</td>
<td style="text-align:center">沿着它插入的轴，如果未提供，则输入数组会被展开</td>
</tr>
</tbody>
</table>
<p>下面用代码实践一下：</p>
<pre><code>a = np.array([[1,2],[3,4],[5,6]])

print (&#39;第一个数组：&#39;)
print (a)
print (&#39;\n&#39;)

print (&#39;未传递 Axis 参数。 在插入之前输入数组会被展开。&#39;)
print (np.insert(a,3,[11,12]))

print (&#39;传递了 Axis 参数。 会广播值数组来配输入数组。&#39;) 
print (&#39;沿轴 0 广播：&#39;)
print (np.insert(a,1,[11],axis = 0))

print (&#39;沿轴 1 广播：&#39;)
print (np.insert(a,1,11,axis = 1))
</code></pre><pre><code>第一个数组：
[[1 2]
 [3 4]
 [5 6]]
未传递 Axis 参数。 在插入之前输入数组会被展开。
[ 1  2  3 11 12  4  5  6]
传递了 Axis 参数。 会广播值数组来配输入数组。
沿轴 0 广播：
[[ 1  2]
 [11 11]
 [ 3  4]
 [ 5  6]]
沿轴 1 广播：
[[ 1 11  2]
 [ 3 11  4]
 [ 5 11  6]]
</code></pre><hr>
<h3 id="（2）删除"><a href="#（2）删除" class="headerlink" title="（2）删除"></a>（2）删除</h3><p>删除数组元素要用到np.delete函数。np.delete 函数返回从输入数组中删除指定子数组的新数组。 与 np.insert() 函数的情况一样，如果未提供轴参数，则输入数组将展开。下面是函数定义：</p>
<ul>
<li>numpy.delete(arr, obj, axis)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">arr</td>
<td style="text-align:center">输入数组</td>
</tr>
<tr>
<td style="text-align:center">obj</td>
<td style="text-align:center">可以被切片，整数或者整数数组，表明要从输入数组删除的子数组</td>
</tr>
<tr>
<td style="text-align:center">axis</td>
<td style="text-align:center">沿着它删除给定子数组的轴，如果未提供，则输入数组会被展开</td>
</tr>
</tbody>
</table>
<p>下面是具体例子：</p>
<pre><code>a = np.arange(12).reshape(3,4)
print (&#39;第一个数组：&#39;)
print (a)
print (&#39;未传递 Axis 参数。 在插入之前输入数组会被展开。&#39;)
print (np.delete(a,5))
print (&#39;删除第二列：&#39;)
print (np.delete(a,1,axis = 1))
print (&#39;从数组中删除切片对应的元素：&#39;)
a = np.array([1,2,3,4,5,6,7,8,9,10])
print (np.delete(a, np.s_[::2]))
</code></pre><pre><code>第一个数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
未传递 Axis 参数。 在插入之前输入数组会被展开。
[ 0  1  2  3  4  6  7  8  9 10 11]
删除第二列：
[[ 0  2  3]
 [ 4  6  7]
 [ 8 10 11]]
从数组中删除切片对应的元素：
[ 2  4  6  8 10]
</code></pre><h2 id="6、数组的复制"><a href="#6、数组的复制" class="headerlink" title="6、数组的复制"></a>6、数组的复制</h2><p>数组的复制其实包括两种：重复 (repeat) 和拼接 (tile) 。</p>
<ul>
<li>重复是在元素层面复制</li>
<li>拼接是在数组层面复制</li>
</ul>
<hr>
<p>np.repeat 方法复制的是数组的每一个元素，参数有几种设定方法：</p>
<ul>
<li>一维数组：用标量和列表来复制元素的个数</li>
<li>多维数组：用标量和列表来复制元素的个数，用轴来控制复制的行和列</li>
</ul>
<p>用具体例子来说明：</p>
<pre><code>a = np.arange(3)
print( a )
print( a.repeat(3) )
print( a.repeat([2,3,4]) )
</code></pre><pre><code>[0 1 2]

[0 0 0 1 1 1 2 2 2]

[0 0 1 1 1 2 2 2 2]
</code></pre><p>由上面的例子可以清晰地看到：</p>
<ul>
<li>标量参数 3 表示数组 a 中每个元素复制 3 遍。</li>
<li>列表参数 [2,3,4] 表示数组 a 中每个元素分别复制 2, 3, 4 遍。</li>
</ul>
<pre><code>b = np.arange(6).reshape((2,3))
print( b )
print( b.repeat(2, axis=0) )
print( b.repeat([2,3,4], axis=1) )
</code></pre><pre><code>[[0 1 2]
 [3 4 5]]

[[0 1 2]
 [0 1 2]
 [3 4 5]
 [3 4 5]]

 [[0 0 1 1 1 2 2 2 2]
 [3 3 4 4 4 5 5 5 5]]
</code></pre><p>由上面的例子可以看到：</p>
<ul>
<li>标量参数 2 和轴参数 0 表示数组b 中每个元素沿着轴 0 复制 2 遍。</li>
<li>列表参数 [2,3,4] 和轴 1表示数组 b 中每个元素沿着轴 1 分别复制 2, 3, 4 遍。</li>
</ul>
<hr>
<p>np.tile() 方法复制的是数组本身，参数有几种设定方法：<br>标量：把数组当成一个元素，一列一列复制<br>形状：把数组当成一个元素，按形状复制</p>
<pre><code>a = np.arange(6).reshape((2,3))
print( a )
print( np.tile(a,2) )
print( np.tile(a, (2,3)) )
</code></pre><pre><code>[[0 1 2]
 [3 4 5]]

[[0 1 2 0 1 2]
 [3 4 5 3 4 5]]

[[0 1 2 0 1 2 0 1 2]
 [3 4 5 3 4 5 3 4 5]
 [0 1 2 0 1 2 0 1 2]
 [3 4 5 3 4 5 3 4 5]]
</code></pre><p>由上面的例子可以清晰地看到：</p>
<ul>
<li>标量参数 2 表示数组 a 按列复制 2 遍。</li>
<li>形状参数 (2,3) - 数组 a 按形状复制 6 (2×3) 遍，并以 (2,3) 的形式展现。</li>
</ul>
<hr>
<h1 id="二、数组的计算"><a href="#二、数组的计算" class="headerlink" title="二、数组的计算"></a>二、数组的计算</h1><h2 id="1、元素层面的计算"><a href="#1、元素层面的计算" class="headerlink" title="1、元素层面的计算"></a>1、元素层面的计算</h2><h3 id="（1）一元运算"><a href="#（1）一元运算" class="headerlink" title="（1）一元运算"></a>（1）一元运算</h3><p>一元运算包括倒数、平方、指数、对数、三角函数等等：</p>
<pre><code>a = np.array([[1., 2., 3.], [4., 5., 6.]])
print( 1 / a )
print( a ** 2 )
print( np.exp(a) )
print( np.log(a) )
</code></pre><pre><code>[[1.         0.5        0.33333333]
 [0.25       0.2        0.16666667]]

[[ 1.  4.  9.]
 [16. 25. 36.]]

[[  2.71828183   7.3890561   20.08553692]
 [ 54.59815003 148.4131591  403.42879349]]

[[0.         0.69314718 1.09861229]
 [1.38629436 1.60943791 1.79175947]]
</code></pre><h3 id="（2）二元运算"><a href="#（2）二元运算" class="headerlink" title="（2）二元运算"></a>（2）二元运算</h3><p>二元运算包括数组间的加减乘除：</p>
<pre><code>a = np.array([[1., 2., 3.], [4., 5., 6.]])
b = np.ones((2,3)) * 2
print( a + b + 1 )
print( a - b )
print( a * b )
print( a / b )
</code></pre><pre><code>[[4. 5. 6.]
 [7. 8. 9.]]

[[-1. 0. 1.]
 [ 2. 3. 4.]]

[[ 2. 4. 6.]
 [ 8. 10. 12.]]

[[0.5 1. 1.5]
 [2. 2.5 3. ]]
</code></pre><h3 id="（3）比较"><a href="#（3）比较" class="headerlink" title="（3）比较"></a>（3）比较</h3><pre><code>a = np.array([[1., 2., 3.], [4., 5., 6.]])
b = np.ones((2,3)) * 2
print(a &gt; b)
print(a &gt; 3)
</code></pre><pre><code>[[False False  True]
 [ True  True  True]]

[[False False False]
 [ True  True  True]]
</code></pre><h2 id="2、线性代数的计算"><a href="#2、线性代数的计算" class="headerlink" title="2、线性代数的计算"></a>2、线性代数的计算</h2><p>因为运行速度的要求，通常会向量化 (vectorization) 而涉及大量的线性代数运算，尤其是矩阵之间的乘积运算。但是，在 NumPy 默认不采用矩阵运算，而是数组 (ndarray) 运算。矩阵只是二维，而数组可以是任何维度，因此数组运算更通用些。</p>
<p>下面我们分别对 <strong>数组</strong> 和 <strong>矩阵</strong> 从创建、转置、求逆和相乘四个方面看看它们的同异。</p>
<h3 id="（1）创建"><a href="#（1）创建" class="headerlink" title="（1）创建"></a>（1）创建</h3><p>创建数组 arr2d 和矩阵 A：</p>
<pre><code>arr2d = np.array([[1,2],[3,1]])
arr2d
A = np.asmatrix(arr2d)
A
</code></pre><pre><code>array([[1, 2],
       [3, 1]])

matrix([[1, 2],
        [3, 1]])
</code></pre><h3 id="（2）转置"><a href="#（2）转置" class="headerlink" title="（2）转置"></a>（2）转置</h3><p>数组用 arr2d.T 操作或 arr.tranpose() 方法，而矩阵用 A.T 操作。主要原因就是 .T 只适合二维数据，在上面也举了个三维数组三个轴之间的变换，这时就需要用函数 arr2d.tranpose 来实现了。</p>
<pre><code>print( arr2d.T )
print( arr2d.transpose() )
print( A.T )
</code></pre><pre><code>[[1 3]
 [2 1]]

[[1 3]
 [2 1]]

[[1 3]
 [2 1]]
</code></pre><h3 id="（3）求逆"><a href="#（3）求逆" class="headerlink" title="（3）求逆"></a>（3）求逆</h3><p>数组用 np.linalg.inv() 函数，而矩阵用 A.I 和 A**-1 操作：</p>
<pre><code>print( np.linalg.inv(arr2d) )
print( A.I )
print( A**-1 )
</code></pre><pre><code>[[-0.2 0.4]
 [ 0.6 -0.2]]

[[-0.2 0.4]
 [ 0.6 -0.2]]

[[-0.2 0.4]
 [ 0.6 -0.2]]
</code></pre><h3 id="（4）相乘"><a href="#（4）相乘" class="headerlink" title="（4）相乘"></a>（4）相乘</h3><p>矩阵和数组的相乘是有区别的：</p>
<ul>
<li>数组相乘是在元素层面进行，</li>
<li>矩阵相乘要就是数学定义的矩阵相乘 (比如第一个矩阵的列要和第二个矩阵的行一样)</li>
</ul>
<p>首先看个例子，二维数组相乘一维数组，矩阵相乘向量我们先定义一个一维数组和向量：</p>
<pre><code>a = np.array([1,2])
b = np.asmatrix(a)
print(a,type(a),a.shape)
print(b,type(b),b.shape)
</code></pre><pre><code>[1 2] &lt;class &#39;numpy.ndarray&#39;&gt; (2,)
[[1 2]] &lt;class &#39;numpy.matrix&#39;&gt; (1, 2)
</code></pre><p>通过结果我们可以看出 a 的形状是 (2,)，只含一个元素的元组只说明 arr 是一维，<strong>数组是不分行数组或列数组的</strong>。而 b 的形状是 (1,2)，显然是列向量。</p>
<p>数组和矩阵相乘都是用*：</p>
<pre><code>#array([[1, 2],[3, 1]])
#matrix([[1, 2],[3, 1]])

print( arr2d*arr )
print( A*b )
</code></pre><pre><code>[[1 4]
 [3 2]]

[[7 4]]
</code></pre><p>由上面结果可知：</p>
<ul>
<li>二维数组相乘一维数组得到的还是个二维数组，解释它需要用到广播机制，这是下节的重点讨论内容。现在大概知道一维数组 [1 2] 第一个元素 1 乘上 [1 3] 得到 [1 3]，而第二个元素 2 乘上 [2 1] 得到 [4 2]。</li>
<li>而矩阵相乘向量的结果和我们学了很多年的线代结果很吻合。</li>
</ul>
<p>再看一个例子，二维数组相乘二维数组，矩阵相乘矩阵：</p>
<pre><code>print( arr2d*arr2d )
print( A*A )
</code></pre><pre><code>[[1 4]
 [9 1]]

[[7 4]
 [6 7]]
</code></pre><p> 由上面结果可以看出：</p>
<ul>
<li>虽然两个二维数组相乘得到二维数组，但不是根据数学上矩阵相乘的规则得来的，而且由元素层面相乘得到的。两个 [[1 2], [3,1]] 的元素相乘确实等于 [[1 4], [9,1]]。 <ul>
<li>而矩阵相乘矩阵的结果和我们学了很多年的线代结果很吻合。</li>
</ul>
</li>
</ul>
<hr>
<p>那么怎么才能在数组上实现「矩阵相乘向量」和「矩阵相乘矩阵」呢？用点乘函数np. dot()。</p>
<pre><code>print( np.dot(arr2d,a) )
print( np.dot(arr2d,arr2d) )
</code></pre><pre><code>[7 4]

[[7 4]
 [6 7]]
</code></pre><p>结果对了，但还有一个小小的差异</p>
<ul>
<li>矩阵相乘列向量的结果是个列向量，写成 [[7,4]]，形状是 (1,2)</li>
<li>二维数组点乘一维数组结果是个一维数组，写成 [7,4]，形状是 (2,)</li>
</ul>
<hr>
<h2 id="3、元素整合计算"><a href="#3、元素整合计算" class="headerlink" title="3、元素整合计算"></a>3、元素整合计算</h2><p>在数组中，元素可以以不同方式整合 (aggregation)。拿求和 (sum) 函数来说，我们可以对数组</p>
<ul>
<li>所有的元素求和</li>
<li>在某个轴 (axis) 上的元素求和</li>
</ul>
<p>先定义数组</p>
<pre><code>arr = np.arange(1,7).reshape((2,3))
arr
</code></pre><pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><p> 然后对于数组分别对全部元素、跨行 (across rows)、跨列 (across columns) 求和：</p>
<pre><code>arr = np.arange(1,7).reshape((2,3))
print( &quot;所有元素之和：&quot;, arr.sum() )
print( &quot;每一列上元素之和&quot;, arr.sum(axis=0) )
print( &#39;每一行上元素之和&#39;, arr.sum(axis=1) )
</code></pre><pre><code>所有元素之和： 21
每一列上元素之和 [5 7 9]
每一行上元素之和 [ 6 15]
</code></pre><p>除了 sum 函数，整合函数还包括 min, max, mean, std 和 cumsum，分别是求最小值、最大值、均值、标准差和累加，这些函数对数组里的元素整合方式和 sum 函数相同，就不多讲了。</p>
<h2 id="4、广播机制的计算"><a href="#4、广播机制的计算" class="headerlink" title="4、广播机制的计算"></a>4、广播机制的计算</h2><p>当对两个形状不同的数组按元素操作时，可能会触发「广播机制」。具体做法，先适当复制元素使得这两个数组形状相同后再按元素操作，两个步骤：</p>
<ul>
<li>广播轴 (broadcast axis)：比对两个数组的维度，将形状小的数组的维度 (轴) 补齐</li>
<li>复制元素：顺着补齐的轴，将形状小的数组里的元素复制，使得最终形状和另一个数组吻合</li>
</ul>
<p>先来看来例子：</p>
<pre><code>a = np.array([[0, 0, 0],[1, 1, 1],[2, 2, 2], [3, 3, 3]])  #arr1.shape = (4,3)
b = np.array([1, 2, 3])    #arr2.shape = (3,)
print(a + b)
</code></pre><pre><code>[[1 2 3]
 [2 3 4]
[3 4 5]
[4 5 6]]
</code></pre><p>上例中arr1的shape为（4,3），arr2的shape为（3，）。可以说前者是二维的，而后者是一维的。但是arr1的第二维长度为3，和arr2的维度相同。arr1和arr2的形状并不一样，但是它们可以执行相加操作，这就是通过广播完成的，在这个例子当中是将arr2沿着0轴进行扩展。上面程序当中的广播如下图所示：<br><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy2/5.png" alt="在这里插入图片描述"></p>
<hr>
<p>因此，进行广播机制分两步：</p>
<ol>
<li>检查两个数组形状是否兼容，即从两个形状元组最后一个元素，来检查：<br>  a. 它们是否有对应维度的相等子集<br>  b. 是否有一个等于 1</li>
<li>一旦它们形状兼容，确定两个数组的最终形状。</li>
</ol>
<hr>
<p>触发广播机制一般有两种情况：</p>
<h3 id="（1）维度一样，形状不一样"><a href="#（1）维度一样，形状不一样" class="headerlink" title="（1）维度一样，形状不一样"></a>（1）维度一样，形状不一样</h3><p>先举个例子：</p>
<pre><code>a = np.array([[1,2,3]])
b = np.array([[4],[5],[6]])
print( &#39;a的形状：&#39;, a.shape )
print( &#39;b的形状：&#39;, b.shape )
</code></pre><pre><code>a的形状： (1, 3)
b的形状： (3, 1)
</code></pre><p>回顾进行广播机制的两步：</p>
<ul>
<li>检查数组 a 和 b 形状是否兼容，从两个形状元组 (1, 3) 和 (3, 1)最后一个元素开始检查，发现它们没有对应维度的相等子集，但它们都满足<strong>有一个等于 1</strong>的条件。</li>
<li>因此它们形状兼容，两个数组的最终形状为 (max(1,3), max(3,1)) = (3, 3)</li>
</ul>
<p>让我们看看 a + b 等于多少：</p>
<pre><code>c = a + b
print(&quot;c的形状：&quot;,c.shape)
print(c)
</code></pre><pre><code>c的形状： (3, 3)
[[5 6 7]
 [6 7 8]
 [7 8 9]]
</code></pre><h3 id="（2）维度不一样"><a href="#（2）维度不一样" class="headerlink" title="（2）维度不一样"></a>（2）维度不一样</h3><p>也先举个例子：</p>
<pre><code>a = np.array( [[[1,2,3], [4,5,6]]] )
b = np.arange(6).reshape((2,3))
print( &#39;a的形状：&#39;, a.shape )
print( &#39;b的形状：&#39;, b.shape )
</code></pre><pre><code>a的形状： (1, 2, 3)
b的形状： (2, 3)
</code></pre><p>回顾进行广播机制的两步：</p>
<ul>
<li>检查数组 a 和 b 形状是否兼容，从两个形状元组 (1,2,3) 和 (2,3)最后一个元素开始检查，发现它们有对应维度的相等子集(2,3)，但是维度不同，这时可以让数组b缺失的维度用1补齐，则为(1,2,3)，与数组a的形状元组相同。</li>
<li>因此它们形状兼容，两个数组的最终形状为 (1,2,3)</li>
</ul>
<pre><code>c = a + b
print(&quot;c的形状：&quot;,c.shape)
print(c)
</code></pre><pre><code>c的形状： (1, 2, 3)
[[[ 1  3  5]
  [ 7  9 11]]]
</code></pre><h1 id="三、参考"><a href="#三、参考" class="headerlink" title="三、参考"></a>三、参考</h1><ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzIzMjY0MjE1MA==&amp;mid=2247486547&amp;idx=1&amp;sn=b3e8816663938f55df8603990c5d42db&amp;chksm=e8908f5adfe7064c8500716ac77e5579077ef186ce9721110cc06c26b11ba7a10b65ea82862a&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">盘一盘 Python 系列 2 - NumPy</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-tutorial.html" target="_blank" rel="noopener">NumPy 教程</a></li>
</ul>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/alipay.jpg"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/wechatpay.jpg"></li>
              </ul>
            </div>
          </div>
        </div>
        
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
        
          
            <div class="post-nepre full next">
          
            <a href="/2020/07/15/numpy/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy1/0.png" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/articles/numpy1/0.png">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                Python学习笔记（一）：Numpy库（上）</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "2X4OECm6DbSrazcQdegg5jCH-gzGzoHsz",
        appKey: "P3Nn2aUDaqKVudVyg93BXGvy",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="/archives" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.5/image/head.jpg" itemprop="image" alt="Sakagami Tomoyo" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="/archives" itemprop="url" rel="author">Sakagami Tomoyo</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>恰逢其会，猝不及防。花开两朵，天各一方。谢谢你照亮过我曾经暗淡的星空！</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Sakagami Tomoyo<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #e677c4;">&copy 2020 Sakagami-Tomoyo</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #e677c4;">Theme <a href="https://github.com/Sakagami-Tomoyo/Sakagami-Tomoyo.github.io" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
    <!-- <i class="fa fa-fire" aria-hidden="true"></i> -->
    <span style="color: #e677c4;padding-left: 20px;">
    <i class="fa fa-clock-o" aria-hidden="true"></i>
    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>

        var now = new Date();
      
        function createtime() {
          var grt= new Date("07/07/2020 16:44:00");//此处修改你的建站时间或者网站上线时间
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
          document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
          document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
        }
        setInterval("createtime()",250);</script>
      <!--不蒜子网页计数器-->
      <span style="color:#e677c4;padding-left: 20px;"><i class="fa fa-eye" aria-hidden="true"></i>访问量: <span id="busuanzi_value_site_pv"></span>次</span>
    </span>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.5/video/","name":"秒速.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.5/video/","name":"秒速.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>
    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <!-- 实现换肤功能 -->
  <div class="skin-menu no-select" id="mainskin" style="position: fixed">
    <div class="theme-controls row-container">
     <ul class="menu-list">
      <li id="white-bg"> <i class="fa fa-television" aria-hidden="true"></i></li>
      <li id="sakura-bg"> <i class="iconfont icon-sakura"></i></li>
      <li id="gribs-bg"> <i class="fa fa-slack" aria-hidden="true"></i></li>
      <li id="KAdots-bg"> <i class="iconfont icon-dots"></i></li>
      <li id="totem-bg"> <i class="fa fa-optin-monster" aria-hidden="true"></i></li>
      <li id="pixiv-bg"> <i class="iconfont icon-pixiv"></i></li>
      <li id="bing-bg"> <i class="iconfont icon-bing"></i></li>
      <li id="dark-bg"> <i class="fa fa-moon-o" aria-hidden="true"></i></li>
     </ul>
    </div>
   </div>
   <canvas id="night-mode-cover"></canvas> 
  <div class="changeSkin-gear no-select">
    <div class="keys" id="setbtn"> 
     <span id="open-skinMenu"> 切换主题 | SCHEME TOOL  
       <i class="iconfont icon-gear inline-block rotating"></i> 
     </span>
    </div>
  </div>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/Sakagami-Tomoyo/CDN@1.9/image/head.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">桜の花の落Sakagami Tomoyo</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://github.com/Sakagami-Tomoyo" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
        <a href="https://space.bilibili.com/405329079" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
        <a href="/#" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
        <a href="/#" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
        <a href="https://blog.csdn.net/csdnwrj" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            记录
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/资源/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
              <li>
                <a href="/categories/随笔/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随笔
                </a>
              </li>
            
              <li>
                <a href="/categories/转载/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            爱好
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/悦读/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  番剧
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/tags/图集/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  图集
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/tags/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-tag" aria-hidden="true"></i>
            标签
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/categories/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-bookmark" aria-hidden="true"></i>
            分类
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友链
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            赞赏
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我
                </a>
              </li>
            
              <li>
                <a href="/theme-sakura/">
                  <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                  主题
                </a>
              </li>
            
          </ul>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="5122484311"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="true"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
  <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/xuehua.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/sakura.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/piao.js"></script>
  <script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</body>
</html>